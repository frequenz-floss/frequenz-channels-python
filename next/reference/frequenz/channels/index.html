
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Frequenz's channels implementation for Python.">
      
      
        <meta name="author" content="Frequenz Energy-as-a-Service GmbH">
      
      
      
        <link rel="prev" href="../../conftest/">
      
      
        <link rel="next" href="util/">
      
      <link rel="icon" href="../../../logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.16">
    
    
      
        <title>channels - Frequenz's channels for Python</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/style.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#frequenz.channels" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest (stable) version.
  <a href="../../../.."> 
    <strong>Click here to go to latest (stable) version</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Frequenz&#39;s channels for Python" class="md-header__button md-logo" aria-label="Frequenz's channels for Python" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Frequenz's channels for Python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              channels
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/frequenz-floss/frequenz-channels-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-channels-python
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../conftest/" class="md-tabs__link md-tabs__link--active">
        API Reference
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../CONTRIBUTING/" class="md-tabs__link">
      Development
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Frequenz&#39;s channels for Python" class="md-nav__button md-logo" aria-label="Frequenz's channels for Python" data-md-component="logo">
      
  <img src="../../../logo.png" alt="logo">

    </a>
    Frequenz's channels for Python
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/frequenz-floss/frequenz-channels-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-channels-python
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../conftest/" class="md-nav__link">
        conftest
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          frequenz
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          frequenz
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" checked>
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">channels</a>
          
            <label for="__nav_2_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          channels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../CONTRIBUTING/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#frequenz.channels" class="md-nav__link">
    channels
  </a>
  
    <nav class="md-nav" aria-label="channels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Anycast" class="md-nav__link">
    Anycast
  </a>
  
    <nav class="md-nav" aria-label="Anycast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Anycast-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._anycast.Anycast.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._anycast.Anycast.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._anycast.Anycast.new_receiver" class="md-nav__link">
    new_receiver()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._anycast.Anycast.new_sender" class="md-nav__link">
    new_sender()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Bidirectional" class="md-nav__link">
    Bidirectional
  </a>
  
    <nav class="md-nav" aria-label="Bidirectional">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Bidirectional-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._bidirectional.Bidirectional.client_handle" class="md-nav__link">
    client_handle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._bidirectional.Bidirectional.service_handle" class="md-nav__link">
    service_handle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Bidirectional-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._bidirectional.Bidirectional.Handle" class="md-nav__link">
    Handle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._bidirectional.Bidirectional.Handle.consume--noqa-dar401-err-httpsgithubcomterrencepreillydarglintissues181" class="md-nav__link">
    noqa: DAR401 err (https://github.com/terrencepreilly/darglint/issues/181)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Bidirectional-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._bidirectional.Bidirectional.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Broadcast" class="md-nav__link">
    Broadcast
  </a>
  
    <nav class="md-nav" aria-label="Broadcast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Broadcast-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._broadcast.Broadcast.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._broadcast.Broadcast.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._broadcast.Broadcast.new_peekable" class="md-nav__link">
    new_peekable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._broadcast.Broadcast.new_receiver" class="md-nav__link">
    new_receiver()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._broadcast.Broadcast.new_sender" class="md-nav__link">
    new_sender()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ChannelClosedError" class="md-nav__link">
    ChannelClosedError
  </a>
  
    <nav class="md-nav" aria-label="ChannelClosedError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ChannelClosedError-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.ChannelClosedError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ChannelError" class="md-nav__link">
    ChannelError
  </a>
  
    <nav class="md-nav" aria-label="ChannelError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ChannelError-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.ChannelError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Error" class="md-nav__link">
    Error
  </a>
  
    <nav class="md-nav" aria-label="Error">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Error-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.Error.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Peekable" class="md-nav__link">
    Peekable
  </a>
  
    <nav class="md-nav" aria-label="Peekable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Peekable-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Peekable.peek" class="md-nav__link">
    peek()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Receiver" class="md-nav__link">
    Receiver
  </a>
  
    <nav class="md-nav" aria-label="Receiver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Receiver-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.__aiter__" class="md-nav__link">
    __aiter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.__anext__" class="md-nav__link">
    __anext__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.consume" class="md-nav__link">
    consume()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.into_peekable" class="md-nav__link">
    into_peekable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.map" class="md-nav__link">
    map()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.ready" class="md-nav__link">
    ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.receive" class="md-nav__link">
    receive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Receiver.receive--noqa-dar401-cause-httpsgithubcomterrencepreillydarglintissues181" class="md-nav__link">
    noqa: DAR401 cause (https://github.com/terrencepreilly/darglint/issues/181)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ReceiverError" class="md-nav__link">
    ReceiverError
  </a>
  
    <nav class="md-nav" aria-label="ReceiverError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ReceiverError-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.ReceiverError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ReceiverInvalidatedError" class="md-nav__link">
    ReceiverInvalidatedError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ReceiverStoppedError" class="md-nav__link">
    ReceiverStoppedError
  </a>
  
    <nav class="md-nav" aria-label="ReceiverStoppedError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.ReceiverStoppedError-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.ReceiverStoppedError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Sender" class="md-nav__link">
    Sender
  </a>
  
    <nav class="md-nav" aria-label="Sender">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.Sender-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._base_classes.Sender.send" class="md-nav__link">
    send()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.SenderError" class="md-nav__link">
    SenderError
  </a>
  
    <nav class="md-nav" aria-label="SenderError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels.SenderError-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frequenz.channels._exceptions.SenderError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>channels</h1>

<div class="doc doc-object doc-module">



<h2 id="frequenz.channels" class="doc doc-heading">
          <code>frequenz.channels</code>


<a href="#frequenz.channels" class="headerlink" title="Permanent link">¤</a></h2>

  <div class="doc doc-contents first">
  
      <p>Frequenz Channels.</p>
<p>This package contains
<a href="https://en.wikipedia.org/wiki/Channel_(programming)">channel</a> implementations.</p>
<p>Channels:</p>
<ul>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Anycast">Anycast</a>: A channel that supports multiple
  senders and multiple receivers.  A message sent through a sender will be
  received by exactly one receiver.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Bidirectional">Bidirectional</a>: A channel providing
  a <code>client</code> and a <code>service</code> handle to send and receive bidirectionally.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Broadcast">Broadcast</a>: A channel to broadcast messages
  from multiple senders to multiple receivers. Each message sent through any of
  the senders is received by all of the receivers.</p>
</li>
</ul>
<p>Other base classes:</p>
<ul>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Peekable">Peekable</a>: An object to allow users to get
  a peek at the latest value in the channel, without consuming anything.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a>: An object that can wait for and
  consume messages from a channel.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Sender">Sender</a>: An object that can send messages to
  a channel.</p>
</li>
</ul>
<p>Utilities:</p>
<ul>
<li><a class="autorefs autorefs-internal" href="util/#frequenz.channels.util">util</a>: A module with utilities, like special
  receivers that implement timers, file watchers, merge receivers, or wait for
  messages in multiple channels.</li>
</ul>
<p>Exception classes:</p>
<ul>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.Error">Error</a>: Base class for all errors in this
  library.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.ChannelError">ChannelError</a>: Base class for all errors
  related to channels.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.ChannelClosedError">ChannelClosedError</a>: Error raised when
  trying to operate (send, receive, etc.) through a closed channel.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.SenderError">SenderError</a>: Base class for all errors
  related to senders.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.ReceiverError">ReceiverError</a>: Base class for all errors
  related to receivers.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.ReceiverStoppedError">ReceiverStoppedError</a>: A receiver
  stopped producing messages.</p>
</li>
<li>
<p><a class="autorefs autorefs-internal" href="#frequenz.channels.ReceiverInvalidatedError">ReceiverInvalidatedError</a>:
  A receiver is not longer valid (for example if it was converted into
  a peekable.</p>
</li>
</ul>

  

  <div class="doc doc-children">






<h3 id="frequenz.channels-classes">Classes<a href="#frequenz.channels-classes" class="headerlink" title="Permanent link">¤</a></h3>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Anycast" class="doc doc-heading">
        <code>frequenz.channels.Anycast</code>


<a href="#frequenz.channels.Anycast" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code></p>

  
      <p>A channel for sending data across async tasks.</p>
<p>Anycast channels support multiple senders and multiple receivers.  A message sent
through a sender will be received by exactly one receiver.</p>
<p>In cases where each message need to be received by every receiver, a
<a class="autorefs autorefs-internal" href="#frequenz.channels.Broadcast">Broadcast</a> channel may be used.</p>
<p>Uses an <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/collections.html#collections.deque">deque</a> internally, so Anycast channels are not
thread-safe.</p>
<p>When there are multiple channel receivers, they can be awaited
simultaneously using <a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.Select">Select</a>,
<a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.Merge">Merge</a> or
<a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.MergeNamed">MergeNamed</a>.</p>

<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">channel</span><span class="o">.</span><span class="n">Sender</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sending: </span><span class="si">{</span><span class="nb">next</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">recv</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">channel</span><span class="o">.</span><span class="n">Receiver</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="k">await</span> <span class="n">receiver</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;receiver_</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> received </span><span class="si">{</span><span class="nb">next</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># sleep (or work) with the data</span>


<span class="n">acast</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">Anycast</span><span class="p">()</span>

<span class="n">sender</span> <span class="o">=</span> <span class="n">acast</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span>
<span class="n">receiver_1</span> <span class="o">=</span> <span class="n">acast</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">send</span><span class="p">(</span><span class="n">sender</span><span class="p">))</span>

<span class="k">await</span> <span class="n">recv</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">receiver_1</span><span class="p">)</span>
</code></pre></div>
<p>Check the <code>tests</code> and <code>benchmarks</code> directories for more examples.</p>
</details>

        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_anycast.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Anycast</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A channel for sending data across async tasks.</span>

<span class="sd">    Anycast channels support multiple senders and multiple receivers.  A message sent</span>
<span class="sd">    through a sender will be received by exactly one receiver.</span>

<span class="sd">    In cases where each message need to be received by every receiver, a</span>
<span class="sd">    [Broadcast][frequenz.channels.Broadcast] channel may be used.</span>

<span class="sd">    Uses an [deque][collections.deque] internally, so Anycast channels are not</span>
<span class="sd">    thread-safe.</span>

<span class="sd">    When there are multiple channel receivers, they can be awaited</span>
<span class="sd">    simultaneously using [Select][frequenz.channels.util.Select],</span>
<span class="sd">    [Merge][frequenz.channels.util.Merge] or</span>
<span class="sd">    [MergeNamed][frequenz.channels.util.MergeNamed].</span>

<span class="sd">    Example:</span>
<span class="sd">        ``` python</span>
<span class="sd">        async def send(sender: channel.Sender) -&gt; None:</span>
<span class="sd">            while True:</span>
<span class="sd">                next = random.randint(3, 17)</span>
<span class="sd">                print(f&quot;sending: {next}&quot;)</span>
<span class="sd">                await sender.send(next)</span>


<span class="sd">        async def recv(id: int, receiver: channel.Receiver) -&gt; None:</span>
<span class="sd">            while True:</span>
<span class="sd">                next = await receiver.receive()</span>
<span class="sd">                print(f&quot;receiver_{id} received {next}&quot;)</span>
<span class="sd">                await asyncio.sleep(0.1) # sleep (or work) with the data</span>


<span class="sd">        acast = channel.Anycast()</span>

<span class="sd">        sender = acast.new_sender()</span>
<span class="sd">        receiver_1 = acast.new_receiver()</span>

<span class="sd">        asyncio.create_task(send(sender))</span>

<span class="sd">        await recv(1, receiver_1)</span>
<span class="sd">        ```</span>

<span class="sd">        Check the `tests` and `benchmarks` directories for more examples.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an Anycast channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            maxsize: Size of the channel&#39;s buffer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">maxsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deque</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the channel.</span>

<span class="sd">        Any further attempts to [send()][frequenz.channels.Sender.send] data</span>
<span class="sd">        will return `False`.</span>

<span class="sd">        Receivers will still be able to drain the pending items on the channel,</span>
<span class="sd">        but after that, subsequent</span>
<span class="sd">        [receive()][frequenz.channels.Receiver.receive] calls will return `None`</span>
<span class="sd">        immediately.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>
        <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new sender.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Sender instance attached to the Anycast channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new receiver.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Receiver instance attached to the Anycast channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Anycast-functions">Functions<a href="#frequenz.channels.Anycast-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._anycast.Anycast.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

<a href="#frequenz.channels._anycast.Anycast.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create an Anycast channel.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>maxsize</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Size of the channel's buffer.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>10</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_anycast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create an Anycast channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        maxsize: Size of the channel&#39;s buffer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">maxsize</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">deque</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="n">maxsize</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._anycast.Anycast.close" class="doc doc-heading">
<code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._anycast.Anycast.close" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Close the channel.</p>
<p>Any further attempts to <a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Sender.send">send()</a> data
will return <code>False</code>.</p>
<p>Receivers will still be able to drain the pending items on the channel,
but after that, subsequent
<a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Receiver.receive">receive()</a> calls will return <code>None</code>
immediately.</p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_anycast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Close the channel.</span>

<span class="sd">    Any further attempts to [send()][frequenz.channels.Sender.send] data</span>
<span class="sd">    will return `False`.</span>

<span class="sd">    Receivers will still be able to drain the pending items on the channel,</span>
<span class="sd">    but after that, subsequent</span>
<span class="sd">    [receive()][frequenz.channels.Receiver.receive] calls will return `None`</span>
<span class="sd">    immediately.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._anycast.Anycast.new_receiver" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_receiver</span><span class="p">()</span></code>

<a href="#frequenz.channels._anycast.Anycast.new_receiver" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a new receiver.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._anycast.Receiver">Receiver</span>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A Receiver instance attached to the Anycast channel.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_anycast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new receiver.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Receiver instance attached to the Anycast channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Receiver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._anycast.Anycast.new_sender" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_sender</span><span class="p">()</span></code>

<a href="#frequenz.channels._anycast.Anycast.new_sender" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a new sender.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._anycast.Sender">Sender</span>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A Sender instance attached to the Anycast channel.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_anycast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new sender.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Sender instance attached to the Anycast channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Bidirectional" class="doc doc-heading">
        <code>frequenz.channels.Bidirectional</code>


<a href="#frequenz.channels.Bidirectional" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>, <span title="frequenz.channels._base_classes.U">U</span>]</code></p>

  
      <p>A wrapper class for simulating bidirectional channels.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Bidirectional</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A wrapper class for simulating bidirectional channels.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">Handle</span><span class="p">(</span><span class="n">Sender</span><span class="p">[</span><span class="n">V</span><span class="p">],</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">W</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A handle to a [Bidirectional][frequenz.channels.Bidirectional] instance.</span>

<span class="sd">        It can be used to send/receive values between the client and service.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">channel</span><span class="p">:</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">]</span> <span class="o">|</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">W</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span>
            <span class="n">sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">V</span><span class="p">],</span>
            <span class="n">receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">W</span><span class="p">],</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Create a `Bidirectional.Handle` instance.</span>

<span class="sd">            Args:</span>
<span class="sd">                channel: The underlying channel.</span>
<span class="sd">                sender: A sender to send values with.</span>
<span class="sd">                receiver: A receiver to receive values from.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span> <span class="o">=</span> <span class="n">channel</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span> <span class="o">=</span> <span class="n">sender</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span> <span class="o">=</span> <span class="n">receiver</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">V</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Send a value to the other side.</span>

<span class="sd">            Args:</span>
<span class="sd">                msg: The value to send.</span>

<span class="sd">            Raises:</span>
<span class="sd">                SenderError: if the underlying channel was closed.</span>
<span class="sd">                    A [ChannelClosedError][frequenz.channels.ChannelClosedError]</span>
<span class="sd">                    is set as the cause.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">SenderError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="c1"># If this comes from a channel error, then we inject another</span>
                <span class="c1"># ChannelError having the information about the Bidirectional</span>
                <span class="c1"># channel to hide (at least partially) the underlaying</span>
                <span class="c1"># Broadcast channels we use.</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
                    <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
                    <span class="p">)</span>
                    <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
                    <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
                <span class="k">raise</span> <span class="n">err</span>

        <span class="k">async</span> <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Wait until the receiver is ready with a value or an error.</span>

<span class="sd">            Once a call to `ready()` has finished, the value should be read with</span>
<span class="sd">            a call to `consume()` (`receive()` or iterated over). The receiver will</span>
<span class="sd">            remain ready (this method will return immediately) until it is</span>
<span class="sd">            consumed.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Whether the receiver is still active.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>

        <span class="k">def</span> <span class="nf">consume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">W</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Return the latest value once `_ready` is complete.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The next value that was received.</span>

<span class="sd">            Raises:</span>
<span class="sd">                ReceiverStoppedError: if there is some problem with the receiver.</span>
<span class="sd">                ReceiverError: if there is some problem with the receiver.</span>

<span class="sd">            # noqa: DAR401 err (https://github.com/terrencepreilly/darglint/issues/181)</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">consume</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="k">except</span> <span class="n">ReceiverError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="c1"># If this comes from a channel error, then we inject another</span>
                <span class="c1"># ChannelError having the information about the Bidirectional</span>
                <span class="c1"># channel to hide (at least partially) the underlaying</span>
                <span class="c1"># Broadcast channels we use.</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
                    <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
                    <span class="p">)</span>
                    <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
                    <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
                <span class="k">raise</span> <span class="n">err</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">service_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `Bidirectional` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            client_id: A name for the client, used to name the channels.</span>
<span class="sd">            service_id: A name for the service end of the channels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;req_</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">U</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;resp_</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_client_handle</span> <span class="o">=</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_handle</span> <span class="o">=</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a `Handle` for the client side to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Object to send/receive messages with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client_handle</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">[</span><span class="n">U</span><span class="p">,</span> <span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a `Handle` for the service side to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Object to send/receive messages with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_handle</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">





<h5 id="frequenz.channels.Bidirectional-attributes">Attributes<a href="#frequenz.channels.Bidirectional-attributes" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.channels._bidirectional.Bidirectional.client_handle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_handle</span><span class="p">:</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#frequenz.channels._bidirectional.Bidirectional.client_handle" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Get a <code>Handle</code> for the client side to use.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional" href="#frequenz.channels.Bidirectional">Bidirectional</a>.<a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional.Handle" href="#frequenz.channels._bidirectional.Bidirectional.Handle">Handle</a>[<span title="frequenz.channels._base_classes.T">T</span>, <span title="frequenz.channels._base_classes.U">U</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>Object to send/receive messages with.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="frequenz.channels._bidirectional.Bidirectional.service_handle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service_handle</span><span class="p">:</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">[</span><span class="n">U</span><span class="p">,</span> <span class="n">T</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#frequenz.channels._bidirectional.Bidirectional.service_handle" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Get a <code>Handle</code> for the service side to use.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional" href="#frequenz.channels.Bidirectional">Bidirectional</a>.<a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional.Handle" href="#frequenz.channels._bidirectional.Bidirectional.Handle">Handle</a>[<span title="frequenz.channels._base_classes.U">U</span>, <span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>Object to send/receive messages with.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>
<h5 id="frequenz.channels.Bidirectional-classes">Classes<a href="#frequenz.channels.Bidirectional-classes" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-class">



<h6 id="frequenz.channels._bidirectional.Bidirectional.Handle" class="doc doc-heading">
        <code>Handle</code>


<a href="#frequenz.channels._bidirectional.Bidirectional.Handle" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Sender" href="#frequenz.channels.Sender">Sender</a>[<span title="frequenz.channels._bidirectional.V">V</span>]</code>, <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._bidirectional.W">W</span>]</code></p>

  
      <p>A handle to a <a class="autorefs autorefs-internal" href="#frequenz.channels.Bidirectional">Bidirectional</a> instance.</p>
<p>It can be used to send/receive values between the client and service.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Handle</span><span class="p">(</span><span class="n">Sender</span><span class="p">[</span><span class="n">V</span><span class="p">],</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">W</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A handle to a [Bidirectional][frequenz.channels.Bidirectional] instance.</span>

<span class="sd">    It can be used to send/receive values between the client and service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">]</span> <span class="o">|</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">W</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span>
        <span class="n">sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">V</span><span class="p">],</span>
        <span class="n">receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">W</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `Bidirectional.Handle` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: The underlying channel.</span>
<span class="sd">            sender: A sender to send values with.</span>
<span class="sd">            receiver: A receiver to receive values from.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span> <span class="o">=</span> <span class="n">channel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span> <span class="o">=</span> <span class="n">sender</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span> <span class="o">=</span> <span class="n">receiver</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">V</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a value to the other side.</span>

<span class="sd">        Args:</span>
<span class="sd">            msg: The value to send.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SenderError: if the underlying channel was closed.</span>
<span class="sd">                A [ChannelClosedError][frequenz.channels.ChannelClosedError]</span>
<span class="sd">                is set as the cause.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SenderError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="c1"># If this comes from a channel error, then we inject another</span>
            <span class="c1"># ChannelError having the information about the Bidirectional</span>
            <span class="c1"># channel to hide (at least partially) the underlaying</span>
            <span class="c1"># Broadcast channels we use.</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
                <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">)</span>
                <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
                <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
            <span class="k">raise</span> <span class="n">err</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait until the receiver is ready with a value or an error.</span>

<span class="sd">        Once a call to `ready()` has finished, the value should be read with</span>
<span class="sd">        a call to `consume()` (`receive()` or iterated over). The receiver will</span>
<span class="sd">        remain ready (this method will return immediately) until it is</span>
<span class="sd">        consumed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the receiver is still active.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>

    <span class="k">def</span> <span class="nf">consume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">W</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the latest value once `_ready` is complete.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The next value that was received.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ReceiverStoppedError: if there is some problem with the receiver.</span>
<span class="sd">            ReceiverError: if there is some problem with the receiver.</span>

<span class="sd">        # noqa: DAR401 err (https://github.com/terrencepreilly/darglint/issues/181)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">consume</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="k">except</span> <span class="n">ReceiverError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="c1"># If this comes from a channel error, then we inject another</span>
            <span class="c1"># ChannelError having the information about the Bidirectional</span>
            <span class="c1"># channel to hide (at least partially) the underlaying</span>
            <span class="c1"># Broadcast channels we use.</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
                <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">)</span>
                <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
                <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
            <span class="k">raise</span> <span class="n">err</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h7 id="frequenz.channels._bidirectional.Bidirectional.Handle-functions">Functions<a href="#frequenz.channels._bidirectional.Bidirectional.Handle-functions" class="headerlink" title="Permanent link">¤</a></h7>

<div class="doc doc-object doc-function">



<h8 id="frequenz.channels._bidirectional.Bidirectional.Handle.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">sender</span><span class="p">,</span> <span class="n">receiver</span><span class="p">)</span></code>

<a href="#frequenz.channels._bidirectional.Bidirectional.Handle.__init__" class="headerlink" title="Permanent link">¤</a></h8>


  <div class="doc doc-contents ">
  
      <p>Create a <code>Bidirectional.Handle</code> instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>channel</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The underlying channel.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional" href="#frequenz.channels.Bidirectional">Bidirectional</a>[<span title="frequenz.channels._bidirectional.V">V</span>, <span title="frequenz.channels._bidirectional.W">W</span>] | <a class="autorefs autorefs-internal" title="frequenz.channels._bidirectional.Bidirectional" href="#frequenz.channels.Bidirectional">Bidirectional</a>[<span title="frequenz.channels._bidirectional.W">W</span>, <span title="frequenz.channels._bidirectional.V">V</span>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>sender</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A sender to send values with.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Sender" href="#frequenz.channels.Sender">Sender</a>[<span title="frequenz.channels._bidirectional.V">V</span>]</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>receiver</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A receiver to receive values from.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._bidirectional.W">W</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">]</span> <span class="o">|</span> <span class="n">Bidirectional</span><span class="p">[</span><span class="n">W</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span>
    <span class="n">sender</span><span class="p">:</span> <span class="n">Sender</span><span class="p">[</span><span class="n">V</span><span class="p">],</span>
    <span class="n">receiver</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">W</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `Bidirectional.Handle` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The underlying channel.</span>
<span class="sd">        sender: A sender to send values with.</span>
<span class="sd">        receiver: A receiver to receive values from.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span> <span class="o">=</span> <span class="n">channel</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span> <span class="o">=</span> <span class="n">sender</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span> <span class="o">=</span> <span class="n">receiver</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h8 id="frequenz.channels._bidirectional.Bidirectional.Handle.consume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">consume</span><span class="p">()</span></code>

<a href="#frequenz.channels._bidirectional.Bidirectional.Handle.consume" class="headerlink" title="Permanent link">¤</a></h8>


  <div class="doc doc-contents ">
  
      <p>Return the latest value once <code>_ready</code> is complete.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._bidirectional.W">W</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The next value that was received.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverStoppedError" href="#frequenz.channels.ReceiverStoppedError">ReceiverStoppedError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <h6 id="frequenz.channels._bidirectional.Bidirectional.Handle.consume--noqa-dar401-err-httpsgithubcomterrencepreillydarglintissues181">noqa: DAR401 err (https://github.com/terrencepreilly/darglint/issues/181)<a class="headerlink" href="#frequenz.channels._bidirectional.Bidirectional.Handle.consume--noqa-dar401-err-httpsgithubcomterrencepreillydarglintissues181" title="Permanent link">¤</a></h6>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">consume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">W</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the latest value once `_ready` is complete.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The next value that was received.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ReceiverStoppedError: if there is some problem with the receiver.</span>
<span class="sd">        ReceiverError: if there is some problem with the receiver.</span>

<span class="sd">    # noqa: DAR401 err (https://github.com/terrencepreilly/darglint/issues/181)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">consume</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
    <span class="k">except</span> <span class="n">ReceiverError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="c1"># If this comes from a channel error, then we inject another</span>
        <span class="c1"># ChannelError having the information about the Bidirectional</span>
        <span class="c1"># channel to hide (at least partially) the underlaying</span>
        <span class="c1"># Broadcast channels we use.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
            <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">)</span>
            <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
        <span class="k">raise</span> <span class="n">err</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h8 id="frequenz.channels._bidirectional.Bidirectional.Handle.ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ready</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._bidirectional.Bidirectional.Handle.ready" class="headerlink" title="Permanent link">¤</a></h8>


  <div class="doc doc-contents ">
  
      <p>Wait until the receiver is ready with a value or an error.</p>
<p>Once a call to <code>ready()</code> has finished, the value should be read with
a call to <code>consume()</code> (<code>receive()</code> or iterated over). The receiver will
remain ready (this method will return immediately) until it is
consumed.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>Whether the receiver is still active.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wait until the receiver is ready with a value or an error.</span>

<span class="sd">    Once a call to `ready()` has finished, the value should be read with</span>
<span class="sd">    a call to `consume()` (`receive()` or iterated over). The receiver will</span>
<span class="sd">    remain ready (this method will return immediately) until it is</span>
<span class="sd">    consumed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the receiver is still active.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h8 id="frequenz.channels._bidirectional.Bidirectional.Handle.send" class="doc doc-heading">
<code class="highlight language-python"><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._bidirectional.Bidirectional.Handle.send" class="headerlink" title="Permanent link">¤</a></h8>


  <div class="doc doc-contents ">
  
      <p>Send a value to the other side.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>msg</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The value to send.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels._bidirectional.V">V</span></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.SenderError" href="#frequenz.channels.SenderError">SenderError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if the underlying channel was closed.
A <a class="autorefs autorefs-internal" href="#frequenz.channels.ChannelClosedError">ChannelClosedError</a>
is set as the cause.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">V</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a value to the other side.</span>

<span class="sd">    Args:</span>
<span class="sd">        msg: The value to send.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SenderError: if the underlying channel was closed.</span>
<span class="sd">            A [ChannelClosedError][frequenz.channels.ChannelClosedError]</span>
<span class="sd">            is set as the cause.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">SenderError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="c1"># If this comes from a channel error, then we inject another</span>
        <span class="c1"># ChannelError having the information about the Bidirectional</span>
        <span class="c1"># channel to hide (at least partially) the underlaying</span>
        <span class="c1"># Broadcast channels we use.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ChannelError</span><span class="p">):</span>
            <span class="n">this_chan_error</span> <span class="o">=</span> <span class="n">ChannelError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error in the underlying channel </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">err</span><span class="o">.</span><span class="n">__cause__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_chan</span><span class="p">,</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">)</span>
            <span class="n">this_chan_error</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span>
            <span class="n">err</span><span class="o">.</span><span class="n">__cause__</span> <span class="o">=</span> <span class="n">this_chan_error</span>
        <span class="k">raise</span> <span class="n">err</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>
<h5 id="frequenz.channels.Bidirectional-functions">Functions<a href="#frequenz.channels.Bidirectional-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._bidirectional.Bidirectional.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">service_id</span><span class="p">)</span></code>

<a href="#frequenz.channels._bidirectional.Bidirectional.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a <code>Bidirectional</code> instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>client_id</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A name for the client, used to name the channels.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>service_id</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A name for the service end of the channels.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_bidirectional.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">service_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `Bidirectional` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: A name for the client, used to name the channels.</span>
<span class="sd">        service_id: A name for the service end of the channels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client_id</span> <span class="o">=</span> <span class="n">client_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;req_</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="p">:</span> <span class="n">Broadcast</span><span class="p">[</span><span class="n">U</span><span class="p">]</span> <span class="o">=</span> <span class="n">Broadcast</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;resp_</span><span class="si">{</span><span class="n">service_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_client_handle</span> <span class="o">=</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_service_handle</span> <span class="o">=</span> <span class="n">Bidirectional</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_response_channel</span><span class="o">.</span><span class="n">new_sender</span><span class="p">(),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request_channel</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">(),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Broadcast" class="doc doc-heading">
        <code>frequenz.channels.Broadcast</code>


<a href="#frequenz.channels.Broadcast" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code></p>

  
      <p>A channel to broadcast messages to multiple receivers.</p>
<p><code>Broadcast</code> channels can have multiple senders and multiple receivers. Each
message sent through any of the senders is received by all of the
receivers.</p>
<p>Internally, a broadcast receiver's buffer is implemented with just
append/pop operations on either side of a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/collections.html#collections.deque">deque</a>, which
are thread-safe.  Because of this, <code>Broadcast</code> channels are thread-safe.</p>
<p>When there are multiple channel receivers, they can be awaited
simultaneously using <a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.Select">Select</a>,
<a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.Merge">Merge</a> or
<a class="autorefs autorefs-internal" href="util/#frequenz.channels.util.MergeNamed">MergeNamed</a>.</p>

<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">channel</span><span class="o">.</span><span class="n">Sender</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;sending: </span><span class="si">{</span><span class="nb">next</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">sender</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">recv</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">channel</span><span class="o">.</span><span class="n">Receiver</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="k">await</span> <span class="n">receiver</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;receiver_</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> received </span><span class="si">{</span><span class="nb">next</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># sleep (or work) with the data</span>


<span class="n">bcast</span> <span class="o">=</span> <span class="n">channel</span><span class="o">.</span><span class="n">Broadcast</span><span class="p">()</span>

<span class="n">sender</span> <span class="o">=</span> <span class="n">bcast</span><span class="o">.</span><span class="n">new_sender</span><span class="p">()</span>
<span class="n">receiver_1</span> <span class="o">=</span> <span class="n">bcast</span><span class="o">.</span><span class="n">new_receiver</span><span class="p">()</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">send</span><span class="p">(</span><span class="n">sender</span><span class="p">))</span>

<span class="k">await</span> <span class="n">recv</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">receiver_1</span><span class="p">)</span>
</code></pre></div>
<p>Check the <code>tests</code> and <code>benchmarks</code> directories for more examples.</p>
</details>

        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Broadcast</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A channel to broadcast messages to multiple receivers.</span>

<span class="sd">    `Broadcast` channels can have multiple senders and multiple receivers. Each</span>
<span class="sd">    message sent through any of the senders is received by all of the</span>
<span class="sd">    receivers.</span>

<span class="sd">    Internally, a broadcast receiver&#39;s buffer is implemented with just</span>
<span class="sd">    append/pop operations on either side of a [deque][collections.deque], which</span>
<span class="sd">    are thread-safe.  Because of this, `Broadcast` channels are thread-safe.</span>

<span class="sd">    When there are multiple channel receivers, they can be awaited</span>
<span class="sd">    simultaneously using [Select][frequenz.channels.util.Select],</span>
<span class="sd">    [Merge][frequenz.channels.util.Merge] or</span>
<span class="sd">    [MergeNamed][frequenz.channels.util.MergeNamed].</span>

<span class="sd">    Example:</span>
<span class="sd">        ``` python</span>
<span class="sd">        async def send(sender: channel.Sender) -&gt; None:</span>
<span class="sd">            while True:</span>
<span class="sd">                next = random.randint(3, 17)</span>
<span class="sd">                print(f&quot;sending: {next}&quot;)</span>
<span class="sd">                await sender.send(next)</span>


<span class="sd">        async def recv(id: int, receiver: channel.Receiver) -&gt; None:</span>
<span class="sd">            while True:</span>
<span class="sd">                next = await receiver.receive()</span>
<span class="sd">                print(f&quot;receiver_{id} received {next}&quot;)</span>
<span class="sd">                await asyncio.sleep(0.1) # sleep (or work) with the data</span>


<span class="sd">        bcast = channel.Broadcast()</span>

<span class="sd">        sender = bcast.new_sender()</span>
<span class="sd">        receiver_1 = bcast.new_receiver()</span>

<span class="sd">        asyncio.create_task(send(sender))</span>

<span class="sd">        await recv(1, receiver_1)</span>
<span class="sd">        ```</span>

<span class="sd">        Check the `tests` and `benchmarks` directories for more examples.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resend_latest</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a Broadcast channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A name for the broadcast channel, typically based on the type</span>
<span class="sd">                of data sent through it.  Used to identify the channel in the</span>
<span class="sd">                logs.</span>
<span class="sd">            resend_latest: When True, every time a new receiver is created with</span>
<span class="sd">                `new_receiver`, it will automatically get sent the latest value</span>
<span class="sd">                on the channel.  This allows new receivers on slow streams to</span>
<span class="sd">                get the latest value as soon as they are created, without having</span>
<span class="sd">                to wait for the next message on the channel to arrive.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resend_latest</span> <span class="o">=</span> <span class="n">resend_latest</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">receivers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ReferenceType</span><span class="p">[</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the Broadcast channel.</span>

<span class="sd">        Any further attempts to [send()][frequenz.channels.Sender.send] data</span>
<span class="sd">        will return `False`.</span>

<span class="sd">        Receivers will still be able to drain the pending items on their queues,</span>
<span class="sd">        but after that, subsequent</span>
<span class="sd">        [receive()][frequenz.channels.Receiver.receive] calls will return `None`</span>
<span class="sd">        immediately.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new broadcast sender.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Sender instance attached to the broadcast channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new broadcast receiver.</span>

<span class="sd">        Broadcast receivers have their own buffer, and when messages are not</span>
<span class="sd">        being consumed fast enough and the buffer fills up, old messages will</span>
<span class="sd">        get dropped just in this receiver.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A name to identify the receiver in the logs.</span>
<span class="sd">            maxsize: Size of the receiver&#39;s buffer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Receiver instance attached to the broadcast channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
        <span class="n">recv</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">Receiver</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">receivers</span><span class="p">[</span><span class="n">uuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">recv</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resend_latest</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">recv</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_latest</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">recv</span>

    <span class="k">def</span> <span class="nf">new_peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Peekable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new Peekable for the broadcast channel.</span>

<span class="sd">        A Peekable provides a [peek()][frequenz.channels.Peekable.peek] method</span>
<span class="sd">        that allows the user to get a peek at the latest value in the channel,</span>
<span class="sd">        without consuming anything.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Peekable to peek into the broadcast channel with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Broadcast-functions">Functions<a href="#frequenz.channels.Broadcast-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._broadcast.Broadcast.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">resend_latest</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#frequenz.channels._broadcast.Broadcast.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a Broadcast channel.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A name for the broadcast channel, typically based on the type
of data sent through it.  Used to identify the channel in the
logs.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>resend_latest</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>When True, every time a new receiver is created with
<code>new_receiver</code>, it will automatically get sent the latest value
on the channel.  This allows new receivers on slow streams to
get the latest value as soon as they are created, without having
to wait for the next message on the channel to arrive.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>False</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resend_latest</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a Broadcast channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A name for the broadcast channel, typically based on the type</span>
<span class="sd">            of data sent through it.  Used to identify the channel in the</span>
<span class="sd">            logs.</span>
<span class="sd">        resend_latest: When True, every time a new receiver is created with</span>
<span class="sd">            `new_receiver`, it will automatically get sent the latest value</span>
<span class="sd">            on the channel.  This allows new receivers on slow streams to</span>
<span class="sd">            get the latest value as soon as they are created, without having</span>
<span class="sd">            to wait for the next message on the channel to arrive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resend_latest</span> <span class="o">=</span> <span class="n">resend_latest</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span> <span class="n">Condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">receivers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ReferenceType</span><span class="p">[</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._broadcast.Broadcast.close" class="doc doc-heading">
<code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._broadcast.Broadcast.close" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Close the Broadcast channel.</p>
<p>Any further attempts to <a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Sender.send">send()</a> data
will return <code>False</code>.</p>
<p>Receivers will still be able to drain the pending items on their queues,
but after that, subsequent
<a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Receiver.receive">receive()</a> calls will return <code>None</code>
immediately.</p>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Close the Broadcast channel.</span>

<span class="sd">    Any further attempts to [send()][frequenz.channels.Sender.send] data</span>
<span class="sd">    will return `False`.</span>

<span class="sd">    Receivers will still be able to drain the pending items on their queues,</span>
<span class="sd">    but after that, subsequent</span>
<span class="sd">    [receive()][frequenz.channels.Receiver.receive] calls will return `None`</span>
<span class="sd">    immediately.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recv_cv</span><span class="o">.</span><span class="n">notify_all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._broadcast.Broadcast.new_peekable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_peekable</span><span class="p">()</span></code>

<a href="#frequenz.channels._broadcast.Broadcast.new_peekable" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a new Peekable for the broadcast channel.</p>
<p>A Peekable provides a <a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Peekable.peek">peek()</a> method
that allows the user to get a peek at the latest value in the channel,
without consuming anything.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._broadcast.Peekable">Peekable</span>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A Peekable to peek into the broadcast channel with.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Peekable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new Peekable for the broadcast channel.</span>

<span class="sd">    A Peekable provides a [peek()][frequenz.channels.Peekable.peek] method</span>
<span class="sd">    that allows the user to get a peek at the latest value in the channel,</span>
<span class="sd">    without consuming anything.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Peekable to peek into the broadcast channel with.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._broadcast.Broadcast.new_receiver" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_receiver</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span></code>

<a href="#frequenz.channels._broadcast.Broadcast.new_receiver" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a new broadcast receiver.</p>
<p>Broadcast receivers have their own buffer, and when messages are not
being consumed fast enough and the buffer fills up, old messages will
get dropped just in this receiver.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A name to identify the receiver in the logs.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>maxsize</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>Size of the receiver's buffer.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>50</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._broadcast.Receiver">Receiver</span>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A Receiver instance attached to the broadcast channel.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_receiver</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new broadcast receiver.</span>

<span class="sd">    Broadcast receivers have their own buffer, and when messages are not</span>
<span class="sd">    being consumed fast enough and the buffer fills up, old messages will</span>
<span class="sd">    get dropped just in this receiver.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A name to identify the receiver in the logs.</span>
<span class="sd">        maxsize: Size of the receiver&#39;s buffer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Receiver instance attached to the broadcast channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
    <span class="n">recv</span><span class="p">:</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">Receiver</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">receivers</span><span class="p">[</span><span class="n">uuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">recv</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resend_latest</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_latest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">recv</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_latest</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">recv</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._broadcast.Broadcast.new_sender" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_sender</span><span class="p">()</span></code>

<a href="#frequenz.channels._broadcast.Broadcast.new_sender" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a new broadcast sender.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._broadcast.Sender">Sender</span>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A Sender instance attached to the broadcast channel.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_broadcast.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">new_sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new broadcast sender.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Sender instance attached to the broadcast channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Sender</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.ChannelClosedError" class="doc doc-heading">
        <code>frequenz.channels.ChannelClosedError</code>


<a href="#frequenz.channels.ChannelClosedError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ChannelError" href="#frequenz.channels.ChannelError">ChannelError</a></code></p>

  
      <p>Error raised when trying to operate on a closed channel.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ChannelClosedError</span><span class="p">(</span><span class="n">ChannelError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Error raised when trying to operate on a closed channel.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `ChannelClosedError` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel: A reference to the channel that was closed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> was closed&quot;</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.ChannelClosedError-functions">Functions<a href="#frequenz.channels.ChannelClosedError-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.ChannelClosedError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.ChannelClosedError.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a <code>ChannelClosedError</code> instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>channel</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A reference to the channel that was closed.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `ChannelClosedError` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: A reference to the channel that was closed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> was closed&quot;</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.ChannelError" class="doc doc-heading">
        <code>frequenz.channels.ChannelError</code>


<a href="#frequenz.channels.ChannelError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.Error" href="#frequenz.channels.Error">Error</a></code></p>

  
      <p>An error produced in a channel.</p>
<p>All exceptions generated by channels inherit from this exception.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ChannelError</span><span class="p">(</span><span class="n">Error</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An error produced in a channel.</span>

<span class="sd">    All exceptions generated by channels inherit from this exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ChannelError instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: An error message.</span>
<span class="sd">            channel: A reference to the channel that encountered the error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">channel</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.ChannelError-functions">Functions<a href="#frequenz.channels.ChannelError-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.ChannelError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.ChannelError.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a ChannelError instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>message</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>An error message.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>channel</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>A reference to the channel that encountered the error.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a ChannelError instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: An error message.</span>
<span class="sd">        channel: A reference to the channel that encountered the error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">channel</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Error" class="doc doc-heading">
        <code>frequenz.channels.Error</code>


<a href="#frequenz.channels.Error" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a></code></p>

  
      <p>Base error.</p>
<p>All exceptions generated by this library inherit from this exception.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Error</span><span class="p">(</span><span class="ne">RuntimeError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base error.</span>

<span class="sd">    All exceptions generated by this library inherit from this exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ChannelError instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: An error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Error-functions">Functions<a href="#frequenz.channels.Error-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.Error.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.Error.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create a ChannelError instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>message</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>An error message.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a ChannelError instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: An error message.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Peekable" class="doc doc-heading">
        <code>frequenz.channels.Peekable</code>


<a href="#frequenz.channels.Peekable" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3/library/abc.html#abc.ABC">ABC</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code></p>

  
      <p>A channel peekable.</p>
<p>A Peekable provides a <a class="autorefs autorefs-internal" href="#frequenz.channels.Peekable">peek()</a> method that
allows the user to get a peek at the latest value in the channel, without
consuming anything.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Peekable</span><span class="p">(</span><span class="n">ABC</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A channel peekable.</span>

<span class="sd">    A Peekable provides a [peek()][frequenz.channels.Peekable] method that</span>
<span class="sd">    allows the user to get a peek at the latest value in the channel, without</span>
<span class="sd">    consuming anything.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the latest value that was sent to the channel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The latest value received by the channel, and `None`, if nothing</span>
<span class="sd">                has been sent to the channel yet.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Peekable-functions">Functions<a href="#frequenz.channels.Peekable-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Peekable.peek" class="doc doc-heading">
<code class="highlight language-python"><span class="n">peek</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Peekable.peek" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Return the latest value that was sent to the channel.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The latest value received by the channel, and <code>None</code>, if nothing
has been sent to the channel yet.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the latest value that was sent to the channel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The latest value received by the channel, and `None`, if nothing</span>
<span class="sd">            has been sent to the channel yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Receiver" class="doc doc-heading">
        <code>frequenz.channels.Receiver</code>


<a href="#frequenz.channels.Receiver" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3/library/abc.html#abc.ABC">ABC</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code></p>

  
      <p>A channel Receiver.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Receiver</span><span class="p">(</span><span class="n">ABC</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A channel Receiver.&quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="fm">__anext__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Await the next value in the async iteration over received values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The next value received.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StopAsyncIteration: if the receiver stopped producing messages.</span>
<span class="sd">            ReceiverError: if there is some problem with the receiver.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">consume</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">ReceiverStoppedError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopAsyncIteration</span><span class="p">()</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait until the receiver is ready with a value or an error.</span>

<span class="sd">        Once a call to `ready()` has finished, the value should be read with</span>
<span class="sd">        a call to `consume()` (`receive()` or iterated over). The receiver will</span>
<span class="sd">        remain ready (this method will return immediately) until it is</span>
<span class="sd">        consumed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the receiver is still active.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">consume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the latest value once `ready()` is complete.</span>

<span class="sd">        `ready()` must be called before each call to `consume()`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The next value received.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ReceiverStoppedError: if the receiver stopped producing messages.</span>
<span class="sd">            ReceiverError: if there is some problem with the receiver.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__aiter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the async iterator over received values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `self`, since no extra setup is needed for the iterator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">receive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Receive a message from the channel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The received message.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ReceiverStoppedError: if there is some problem with the receiver.</span>
<span class="sd">            ReceiverError: if there is some problem with the receiver.</span>

<span class="sd">        # noqa: DAR401 __cause__ (https://github.com/terrencepreilly/darglint/issues/181)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">received</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__anext__</span><span class="p">()</span>  <span class="c1"># pylint: disable=unnecessary-dunder-call</span>
        <span class="k">except</span> <span class="ne">StopAsyncIteration</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># If we already had a cause and it was the receiver was stopped,</span>
            <span class="c1"># then reuse that error, as StopAsyncIteration is just an artifact</span>
            <span class="c1"># introduced by __anext__.</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ReceiverStoppedError</span><span class="p">)</span>
                <span class="c1"># pylint is not smart enough to figure out we checked above</span>
                <span class="c1"># this is a ReceiverStoppedError and thus it does have</span>
                <span class="c1"># a receiver member</span>
                <span class="ow">and</span> <span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">receiver</span> <span class="ow">is</span> <span class="bp">self</span>  <span class="c1"># pylint: disable=no-member</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span>
            <span class="k">raise</span> <span class="n">ReceiverStoppedError</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
        <span class="k">return</span> <span class="n">received</span>

    <span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">call</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">T</span><span class="p">],</span> <span class="n">U</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">U</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a receiver with `call` applied on incoming messages.</span>

<span class="sd">        Args:</span>
<span class="sd">            call: function to apply on incoming messages.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `Receiver` to read results of the given function from.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_Map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">call</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">into_peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Peekable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the `Receiver` implementation into a `Peekable`.</span>

<span class="sd">        Once this function has been called, the receiver will no longer be</span>
<span class="sd">        usable, and calling `receive` on the receiver will raise an exception.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: when a `Receiver` implementation doesn&#39;t have</span>
<span class="sd">                a custom `into_peekable` implementation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;This receiver does not implement `into_peekable`&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Receiver-functions">Functions<a href="#frequenz.channels.Receiver-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.__aiter__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__aiter__</span><span class="p">()</span></code>

<a href="#frequenz.channels._base_classes.Receiver.__aiter__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Initialize the async iterator over received values.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p><code>self</code>, since no extra setup is needed for the iterator.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__aiter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the async iterator over received values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `self`, since no extra setup is needed for the iterator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.__anext__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__anext__</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Receiver.__anext__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Await the next value in the async iteration over received values.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._base_classes.T">T</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The next value received.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#StopAsyncIteration">StopAsyncIteration</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if the receiver stopped producing messages.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="fm">__anext__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Await the next value in the async iteration over received values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The next value received.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StopAsyncIteration: if the receiver stopped producing messages.</span>
<span class="sd">        ReceiverError: if there is some problem with the receiver.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">consume</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">ReceiverStoppedError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">StopAsyncIteration</span><span class="p">()</span> <span class="kn">from</span> <span class="nn">exc</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.consume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">consume</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Receiver.consume" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Return the latest value once <code>ready()</code> is complete.</p>
<p><code>ready()</code> must be called before each call to <code>consume()</code>.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._base_classes.T">T</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The next value received.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverStoppedError" href="#frequenz.channels.ReceiverStoppedError">ReceiverStoppedError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if the receiver stopped producing messages.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">consume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the latest value once `ready()` is complete.</span>

<span class="sd">    `ready()` must be called before each call to `consume()`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The next value received.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ReceiverStoppedError: if the receiver stopped producing messages.</span>
<span class="sd">        ReceiverError: if there is some problem with the receiver.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.into_peekable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">into_peekable</span><span class="p">()</span></code>

<a href="#frequenz.channels._base_classes.Receiver.into_peekable" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Convert the <code>Receiver</code> implementation into a <code>Peekable</code>.</p>
<p>Once this function has been called, the receiver will no longer be
usable, and calling <code>receive</code> on the receiver will raise an exception.</p>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError">NotImplementedError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>when a <code>Receiver</code> implementation doesn't have
a custom <code>into_peekable</code> implementation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">into_peekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Peekable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the `Receiver` implementation into a `Peekable`.</span>

<span class="sd">    Once this function has been called, the receiver will no longer be</span>
<span class="sd">    usable, and calling `receive` on the receiver will raise an exception.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: when a `Receiver` implementation doesn&#39;t have</span>
<span class="sd">            a custom `into_peekable` implementation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;This receiver does not implement `into_peekable`&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.map" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">map</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></code>

<a href="#frequenz.channels._base_classes.Receiver.map" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Return a receiver with <code>call</code> applied on incoming messages.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>call</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>function to apply on incoming messages.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="frequenz.channels._base_classes.T">T</span>], <span title="frequenz.channels._base_classes.U">U</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._base_classes.U">U</span>]</code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>A <code>Receiver</code> to read results of the given function from.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">call</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">T</span><span class="p">],</span> <span class="n">U</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Receiver</span><span class="p">[</span><span class="n">U</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a receiver with `call` applied on incoming messages.</span>

<span class="sd">    Args:</span>
<span class="sd">        call: function to apply on incoming messages.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `Receiver` to read results of the given function from.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_Map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">call</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ready</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Receiver.ready" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Wait until the receiver is ready with a value or an error.</p>
<p>Once a call to <code>ready()</code> has finished, the value should be read with
a call to <code>consume()</code> (<code>receive()</code> or iterated over). The receiver will
remain ready (this method will return immediately) until it is
consumed.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>Whether the receiver is still active.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wait until the receiver is ready with a value or an error.</span>

<span class="sd">    Once a call to `ready()` has finished, the value should be read with</span>
<span class="sd">    a call to `consume()` (`receive()` or iterated over). The receiver will</span>
<span class="sd">    remain ready (this method will return immediately) until it is</span>
<span class="sd">    consumed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the receiver is still active.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Receiver.receive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">receive</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Receiver.receive" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Receive a message from the channel.</p>

  <table>
    <thead>
      <tr>
        <th><b>RETURNS</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
              <span class="doc-returns-annotation">
                  <code><span title="frequenz.channels._base_classes.T">T</span></code>
              </span>
          </td>
          <td class="doc-returns-details">
            <div class="doc-md-description">
              <p>The received message.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverStoppedError" href="#frequenz.channels.ReceiverStoppedError">ReceiverStoppedError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there is some problem with the receiver.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <h6 id="frequenz.channels._base_classes.Receiver.receive--noqa-dar401-cause-httpsgithubcomterrencepreillydarglintissues181">noqa: DAR401 <strong>cause</strong> (https://github.com/terrencepreilly/darglint/issues/181)<a class="headerlink" href="#frequenz.channels._base_classes.Receiver.receive--noqa-dar401-cause-httpsgithubcomterrencepreillydarglintissues181" title="Permanent link">¤</a></h6>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">receive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Receive a message from the channel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The received message.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ReceiverStoppedError: if there is some problem with the receiver.</span>
<span class="sd">        ReceiverError: if there is some problem with the receiver.</span>

<span class="sd">    # noqa: DAR401 __cause__ (https://github.com/terrencepreilly/darglint/issues/181)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">received</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__anext__</span><span class="p">()</span>  <span class="c1"># pylint: disable=unnecessary-dunder-call</span>
    <span class="k">except</span> <span class="ne">StopAsyncIteration</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="c1"># If we already had a cause and it was the receiver was stopped,</span>
        <span class="c1"># then reuse that error, as StopAsyncIteration is just an artifact</span>
        <span class="c1"># introduced by __anext__.</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span><span class="p">,</span> <span class="n">ReceiverStoppedError</span><span class="p">)</span>
            <span class="c1"># pylint is not smart enough to figure out we checked above</span>
            <span class="c1"># this is a ReceiverStoppedError and thus it does have</span>
            <span class="c1"># a receiver member</span>
            <span class="ow">and</span> <span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span><span class="o">.</span><span class="n">receiver</span> <span class="ow">is</span> <span class="bp">self</span>  <span class="c1"># pylint: disable=no-member</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">__cause__</span>
        <span class="k">raise</span> <span class="n">ReceiverStoppedError</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
    <span class="k">return</span> <span class="n">received</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.ReceiverError" class="doc doc-heading">
        <code>frequenz.channels.ReceiverError</code>


<a href="#frequenz.channels.ReceiverError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.Error" href="#frequenz.channels.Error">Error</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code></p>

  
      <p>An error produced in a <a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a>.</p>
<p>All exceptions generated by receivers inherit from this exception.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ReceiverError</span><span class="p">(</span><span class="n">Error</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An error produced in a [Receiver][frequenz.channels.Receiver].</span>

<span class="sd">    All exceptions generated by receivers inherit from this exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: An error message.</span>
<span class="sd">            receiver: The [Receiver][frequenz.channels.Receiver] where the</span>
<span class="sd">                error happened.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.ReceiverError-functions">Functions<a href="#frequenz.channels.ReceiverError-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.ReceiverError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">receiver</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.ReceiverError.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create an instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>message</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>An error message.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>receiver</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The <a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a> where the
error happened.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels._base_classes">_base_classes</span>.<a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: An error message.</span>
<span class="sd">        receiver: The [Receiver][frequenz.channels.Receiver] where the</span>
<span class="sd">            error happened.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.ReceiverInvalidatedError" class="doc doc-heading">
        <code>frequenz.channels.ReceiverInvalidatedError</code>


<a href="#frequenz.channels.ReceiverInvalidatedError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code></p>

  
      <p>The <a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a> was invalidated.</p>
<p>This happens when the Receiver is converted
<a class="autorefs autorefs-internal" href="#frequenz.channels._base_classes.Receiver.into_peekable">into</a>
a <a class="autorefs autorefs-internal" href="#frequenz.channels.Peekable">Peekable</a>.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ReceiverInvalidatedError</span><span class="p">(</span><span class="n">ReceiverError</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The [Receiver][frequenz.channels.Receiver] was invalidated.</span>

<span class="sd">    This happens when the Receiver is converted</span>
<span class="sd">    [into][frequenz.channels.Receiver.into_peekable]</span>
<span class="sd">    a [Peekable][frequenz.channels.Peekable].</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.ReceiverStoppedError" class="doc doc-heading">
        <code>frequenz.channels.ReceiverStoppedError</code>


<a href="#frequenz.channels.ReceiverStoppedError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.ReceiverError" href="#frequenz.channels.ReceiverError">ReceiverError</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code></p>

  
      <p>The <a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a> stopped producing messages.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ReceiverStoppedError</span><span class="p">(</span><span class="n">ReceiverError</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The [Receiver][frequenz.channels.Receiver] stopped producing messages.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            receiver: The [Receiver][frequenz.channels.Receiver] where the</span>
<span class="sd">                error happened.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Receiver </span><span class="si">{</span><span class="n">receiver</span><span class="si">}</span><span class="s2"> was stopped&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.ReceiverStoppedError-functions">Functions<a href="#frequenz.channels.ReceiverStoppedError-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.ReceiverStoppedError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">receiver</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.ReceiverStoppedError.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create an instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>receiver</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The <a class="autorefs autorefs-internal" href="#frequenz.channels.Receiver">Receiver</a> where the
error happened.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels._base_classes">_base_classes</span>.<a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Receiver" href="#frequenz.channels.Receiver">Receiver</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">receiver</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Receiver</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        receiver: The [Receiver][frequenz.channels.Receiver] where the</span>
<span class="sd">            error happened.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Receiver </span><span class="si">{</span><span class="n">receiver</span><span class="si">}</span><span class="s2"> was stopped&quot;</span><span class="p">,</span> <span class="n">receiver</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.Sender" class="doc doc-heading">
        <code>frequenz.channels.Sender</code>


<a href="#frequenz.channels.Sender" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-external" title="abc.ABC" href="https://docs.python.org/3/library/abc.html#abc.ABC">ABC</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._base_classes.T">T</span>]</code></p>

  
      <p>A channel Sender.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Sender</span><span class="p">(</span><span class="n">ABC</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A channel Sender.&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a message to the channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            msg: The message to be sent.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SenderError: if there was an error sending the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.Sender-functions">Functions<a href="#frequenz.channels.Sender-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._base_classes.Sender.send" class="doc doc-heading">
<code class="highlight language-python"><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#frequenz.channels._base_classes.Sender.send" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Send a message to the channel.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>msg</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The message to be sent.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels._base_classes.T">T</span></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th><b>RAISES</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
            <span class="doc-raises-annotation">
                <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.SenderError" href="#frequenz.channels.SenderError">SenderError</a></code>
            </span>
          </td>
          <td class="doc-raises-details">
            <div class="doc-md-description">
              <p>if there was an error sending the message.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_base_classes.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a message to the channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        msg: The message to be sent.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SenderError: if there was an error sending the message.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="frequenz.channels.SenderError" class="doc doc-heading">
        <code>frequenz.channels.SenderError</code>


<a href="#frequenz.channels.SenderError" class="headerlink" title="Permanent link">¤</a></h4>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="frequenz.channels._exceptions.Error" href="#frequenz.channels.Error">Error</a></code>, <code><a class="autorefs autorefs-external" title="typing.Generic" href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code></p>

  
      <p>An error produced in a <a class="autorefs autorefs-internal" href="#frequenz.channels.Sender">Sender</a>.</p>
<p>All exceptions generated by senders inherit from this exception.</p>


        <details class="quote">
          <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SenderError</span><span class="p">(</span><span class="n">Error</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An error produced in a [Sender][frequenz.channels.Sender].</span>

<span class="sd">    All exceptions generated by senders inherit from this exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: An error message.</span>
<span class="sd">            sender: The [Sender][frequenz.channels.Sender] where the error</span>
<span class="sd">                happened.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<h5 id="frequenz.channels.SenderError-functions">Functions<a href="#frequenz.channels.SenderError-functions" class="headerlink" title="Permanent link">¤</a></h5>

<div class="doc doc-object doc-function">



<h6 id="frequenz.channels._exceptions.SenderError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">sender</span><span class="p">)</span></code>

<a href="#frequenz.channels._exceptions.SenderError.__init__" class="headerlink" title="Permanent link">¤</a></h6>


  <div class="doc doc-contents ">
  
      <p>Create an instance.</p>

  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b>DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>message</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>An error message.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>sender</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The <a class="autorefs autorefs-internal" href="#frequenz.channels.Sender">Sender</a> where the error
happened.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="frequenz.channels._base_classes">_base_classes</span>.<a class="autorefs autorefs-internal" title="frequenz.channels._base_classes.Sender" href="#frequenz.channels.Sender">Sender</a>[<span title="frequenz.channels._exceptions.T">T</span>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>/opt/hostedtoolcache/Python/3.11.4/x64/lib/python3.11/site-packages/frequenz/channels/_exceptions.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create an instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: An error message.</span>
<span class="sd">        sender: The [Sender][frequenz.channels.Sender] where the error</span>
<span class="sd">            happened.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sender</span><span class="p">:</span> <span class="n">_base_classes</span><span class="o">.</span><span class="n">Sender</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Frequenz Energy-as-a-Service GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/frequenz-floss" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/frequenz-com" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a51614de.min.js"></script>
      
    
  </body>
</html>